-- ============================================
-- Налаштування Supabase Realtime для таблиці transactions
-- ============================================
-- Дозволяє автоматично отримувати оновлення транзакцій без перезавантаження сторінки

-- ============================================
-- 1. Увімкнути Realtime для таблиці transactions
-- ============================================

-- Перевірити чи Realtime вже увімкнено
-- Якщо потрібно увімкнути вручну:
-- 1. Перейдіть до Supabase Dashboard → Database → Replication
-- 2. Знайдіть таблицю "transactions"
-- 3. Увімкніть Realtime для цієї таблиці

-- Або виконайте цей SQL (якщо є права):
ALTER PUBLICATION supabase_realtime ADD TABLE transactions;

-- ============================================
-- 2. Перевірка налаштувань
-- ============================================

-- Перевірити чи таблиця додана до Realtime
SELECT 
  schemaname,
  tablename
FROM pg_publication_tables
WHERE pubname = 'supabase_realtime'
  AND tablename = 'transactions';

-- Якщо запит повертає рядок з transactions - Realtime увімкнено ✅
-- Якщо нічого не повертає - потрібно увімкнути через Dashboard

-- ============================================
-- 3. Важливо: Realtime працює тільки з RLS
-- ============================================
-- Переконайтеся, що RLS увімкнено для таблиці transactions
-- Виконайте скрипт SUPABASE_RLS_SETUP.sql якщо ще не виконали

